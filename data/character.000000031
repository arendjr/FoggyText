{
  "name": "Lloyd",
  "plural": "Lloyds",
  "triggers": { "onspawn": "(function() {\n    var rooms = [$('room:1'), $('room:6'), $('room:8'), $('room:10'), $('room:16')];\n    \n    this.state = 'walking';\n    this.conversationTarget = null;\n    \n    this.setInterval(function() {\n        var allCharacters = [];\n        rooms.forEach(function(room) { allCharacters.append(room.characters); });\n        var self = this;\n        allCharacters.forEach(function(character) {\n            if (self.state === 'walking' && character.isPlayer() && !character.data.finishedIntro) {\n                self.state = 'introducing';\n                self.conversationTarget = character;\n            }\n        });\n\n        if (this.state === 'walking') {\n            var portals = this.currentRoom.portals;\n            var door = portals.named('door');\n            if (door && door.open) {\n                this.close(door);\n            } else if (byChance(1/8)) {\n                this.go(portals.filter(function(portal) { return portal !== door; }).randomElement());\n            }\n        } else if (this.state === 'introducing') {\n            if (this.currentRoom.id === this.conversationTarget.currentRoom.id) {\n                this.say('Ah, you\\'ve awoken! Good!');\n            } else {\n                this.walkTo(this.conversationTarget);\n            }\n        }\n    }, 2000);\n})" },
  "position": [ 0, 0, 0 ],
  "presenceVerb": "be",
  "weight": 0,
  "cost": 0,
  "flags": "",
  "stats": [0, 0, 0, 0, 0, 0],
  "height": 0,
  "currentRoom": "room:8",
  "direction": [ 70, -70, 0 ],
  "race": "0",
  "characterClass": "0",
  "gender": "male",
  "respawnTime": 0,
  "respawnTimeVariation": 0,
  "hp": 1,
  "maxHp": 1,
  "gold": 0,
  "weapon": "0",
  "secondaryWeapon": "0",
  "shield": "0"
}